{%  load static %}

<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anonymous+Pro:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'server_side/style.css' %}">
    <title>Server</title>
</head>
<body>
<div class="container">
<div class="box">
    <h1 id="header"></h1>
    <button class="command" onclick="openModal()">Command executor</button>
    <button class="filemanager">File Manager</button>
    <button class="upload">Upload</button>
    <button class="client-lists"  onclick="openClients()">Client lists</button>
    <form action="{% url 'logout' %}" method="post">
        {% csrf_token %}
        <button class="logout">Log out</button>
    </form>
</div>
    <div class="overlay" id="overlay"  onclick="closeModal()"></div>

    <div class="modal-clients" id="clients">
        <ul>
            <li>{{ user }}</li>
        </ul>
    </div>
    <div class="modal" id="modal">
        <input class="command-input" type="text" placeholder="Type Command...">
        <button class="submit" onclick="closeModal()">Submit</button>
    </div>
</div>
</body>
<script>
    document.addEventListener('mousemove', (event) => {
      const x = event.clientX / window.innerWidth * 100;
      const y = event.clientY / window.innerHeight * 100;
      document.body.style.backgroundImage = `radial-gradient( circle 2000px at ${x}% ${y}%, rgba(9,29,85,1) 0.2%, rgba(0,0,0,1) 100.2% )`;
    });
    const header = 'cH00$e thE @ctiviTy';
    let index  = 0;
    function typeEffect() {
        if (index < header.length) {
            document.getElementById('header').innerHTML += header.charAt(index);
            index++;
            setTimeout(typeEffect, 100);
        }
    }
    typeEffect();
    function openModal() {
        document.getElementById("modal").style.display = "flex";
        document.getElementById("modal").style.flexDirection = "column";
        document.getElementById("modal").style.alignItems = "center";
        document.getElementById("modal").style.justifyContent = "center";
        document.getElementById("overlay").style.display = "block";
        document.getElementsByClassName('overlay').classList.add('blur')
    }

    function openClients() {
        document.getElementById('clients').style.display = 'block';
        document.getElementById("overlay").style.display = "block";
        document.getElementsByClassName('overlay').classList.add('blur')
    }

    function closeModal() {
        document.getElementById("modal").style.display = "none";
        document.getElementById("overlay").style.display = "none";
        document.getElementById('clients').style.display = 'none';
        document.getElementsByClassName('overlay').classList.remove("blur");
    }
</script>
</html>
